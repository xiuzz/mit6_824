# 课程架构
## 课程详细信息
lectures(课程的视频)

papers(课程关联的论文)

exams(这个应该对我们这种互联网学习者关联不大)

labs(4个实验)

所有的内容都在官网都能找到：

http://nil.csail.mit.edu/6.824/2020/schedule.html

我看的带中文字幕的视频：

https://www.bilibili.com/video/BV1R7411t71W
# 分布式系统概论
一个分布式系统的构建是为了什么？
一些列计算机集群通过网络共同完成某个一系列连贯的任务，目前的主流目标是分布式计算，分布式存储，以及更普遍适用的系统(分布式构建者，能够很好的隐藏分布式细节，使普通人能像使用一般化的单机软件一样使用分布式系统)

一些在构建时要解决的问题:

1. parallelism(并行管理)

2. fault tolerance(容错)

3. physical(物理问题,尤其是网络的物理建设)

4. security/isolated(安全与隔离，主要是可信验证)

5. partial failure(局部失效)

为什么会有分布式系统？

最开始的设想来源于集中化的系统存储与计算性能问题不足然后提出的分布式系统概念。因此这里涉及到几个必要的点：

## 1.扩展性(scalability)
如果要做分布式系统那么最理想的情况是：1台电脑，具有1x存储空间，1x算力，那么n台电脑所连接起来的电脑就具有n倍存储空间，n倍算力。这就是分布式系统的扩展性。因此多于扩展性问题，如果构造一个巧妙的连接系统，或者说算法是必要的。

## 2.容错(fault tolerance)

容错的问题指向的是什么？允许我们的系统中出现错误。在一个成百上千的计算机组成的分布式系统中，它的稳定性是不可靠的，网络随时都可能出问题，一个交换机风扇坏了，导致过热瘫痪，就可能引来相当多的节点没办法工作；或者，随时都有可能有人把电缆踩坏了，导致某个节点断电，因此容错在这种不可控的系统中就相当重要了。

容错体现在什么地方呢：
### 2.1 可用性(availability)
这里的可用性指的是在系统发生错误后，仍能保证系统的功能完整可用，我个人觉得可用性应该是一个在后面的学习中会遇到的比较有挑战的问题吧。
### 2.2 可恢复性(recoverablitiy)
可恢复不难理解，当发生错误后，肯定得想办法解决和恢复系统的正常运行。对于分布式存储来说，可恢复性可以体现在使用nvs(非已失存储，如硬盘，ssd，闪存等等)，冗余备份（replication），英文这个词应该只是指复制，但是这里的复制指的将原本的数据进行备份，所以就翻译成冗余备份了。

## 3.一致性（consistency）
这一部分给我看睡着了，主要这里他讲的太快了，让我一下子不能明白什么是强一致性，什么是弱一致性，后面看了些文档才理解了。

首先什么是一致性，一致性指的是前面的冗余复制，及保证多节点所备份的数据是一样的。然后是他举例说明了什么是强弱一致性。

### 3.1强一致性
两个要求：
1. 任何一次读的某个数据位置，都是这个位置上最新的数据。
2. 系统的所有进程看到的操作顺序，都和全局时钟下的顺序一次。(这一点可能理解起来有点抽象，我下面解释)。

这两点保证了任何时刻，任意节点在任何时刻（这里的时刻指的是对外提供服务的时刻）的数据都是一样的。它的模型是这样的：一个分布式集群里面，如果此时来了一个写操作，ok，这个节点向其他节点发送请求，让它们暂停服务，所有节点写入这段数据，这样就满足了刚刚说的第二点，全局时钟下的顺序一致，有点像啥原子操作了(事务要么同时成功，要么同时失败)。

当然这个模型是网上给的，是否是强一致性的标准我也不知道，不过强一致性就一句话任意节点在任何时刻（这里的时刻指的是对外提供服务的时刻）的数据都是一样的。当然强一致性势必会带来不少的性能损耗。

### 3.2弱一致性
弱一致性没有什么好说的，即当某个数据被更新后，不一定要马上保证所有的备份数据同步更新，用户在读的时候有可能是读到的旧的数据，也有可能读到的是新的数据。简而言之如果能容忍后续的访问到部分或者全部访问不到，则是弱一致性。现代的分布式系统，大多都研究和基于弱一致性，毕竟大多数分布式系统更多的目的是并行计算和存储，效率是关键。


# MapReduce

一个经典的分布式计算模型用于大规模数据计算

http://nil.csail.mit.edu/6.824/2020/papers/mapreduce.pdf

MapReduce本身只是一个模型，实际的代码实现细节会因人而异。MapReduce的细节等我看完论文再写。
